$.getJSON("servers.json",e=>{e?e.forEach(e=>{if("BR"==e.cc){$(".servers.container").append('<div class="server box" server-id="'+e.id+'"><div class="server name">'+e.sponsor.replace("-","")+'</div><div class="server location">'+e.name+'</div><div class="server latency">0 ms</div></div>');var r,s=new WebSocket("wss://"+e.host+"/ws"),a=!1;s.onopen=function(){setInterval(function(){1!=a&&(a=!0,r=Date.now(),s.send("PING "+r))},500)},s.onmessage=function(s){if(s.data.match("PONG")){var o=Date.now()-r;$('.server.box[server-id="'+e.id+'"] .server.latency').text(o+" ms"),a=!1}}}}):alert("Erro ao carregar a lista de servidores.")}).fail(()=>{alert("Erro ao carregar a lista de servidores.")});