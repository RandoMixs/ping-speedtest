var servers;$.getJSON("servers.json",e=>{e?(servers=e,e.forEach(e=>{"BR"==e.cc&&$(".servers.container").append('<div class="server box" server-id="'+e.id+'"><div class="server name">'+e.sponsor.replace("-","")+'</div><div class="server location">'+e.name+'</div><div class="server latency">0 ms</div></div>')})):alert("Erro ao carregar a lista de servidores.")});var x=setInterval(function(){servers&&(clearInterval(x),servers.forEach(e=>{var r,s=new WebSocket("wss://"+e.host+"/ws"),a=!1;s.onopen=function(){setInterval(function(){1!=a&&(a=!0,r=Date.now(),s.send("PING "+r))},1e3)},s.onmessage=function(s){if(s.data.match("PONG")){var v=Date.now()-r;$('.server.box[server-id="'+e.id+'"] .server.latency').text(v+" ms"),a=!1}}}))},3e3);