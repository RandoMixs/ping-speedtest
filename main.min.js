$.getJSON("servers.json",e=>{if(e){function r(){$('.server.box[server-id="'+server.id+'"] .server.latency').text("? ms").css("background","#ffb2b4")}e.forEach(e=>{if("BR"==e.cc){$(".servers.container").append('<div class="server box" server-id="'+e.id+'"><div class="server name">'+e.sponsor.replace("-","")+'</div><div class="server location">'+e.name+'</div><div class="server latency">0 ms</div></div>');var s,a=new WebSocket("wss://"+e.host+"/ws"),o=!1;a.onopen=function(){setInterval(function(){1!=o&&(o=!0,s=Date.now(),a.send("PING "+s))},500)},a.onerror=r,a.onclose=r,a.onmessage=function(r){if(r.data.match("PONG")){var a=Date.now()-s;$('.server.box[server-id="'+e.id+'"] .server.latency').text(a+" ms").css("background",a>100?"#ffb2b4":a>50?"#ffe8bd":"#fff"),o=!1}}}})}else alert("Erro ao carregar a lista de servidores.")}).fail(()=>{alert("Erro ao carregar a lista de servidores.")});